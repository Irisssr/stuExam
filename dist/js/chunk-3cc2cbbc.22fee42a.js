(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cc2cbbc"],{"33d5":function(e,r,s){},"6d73":function(e,r,s){"use strict";var t=s("33d5"),o=s.n(t);o.a},7391:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{attrs:{id:"register"}},[s("div",{staticClass:"register-form"},[s("div",{staticClass:"register-inner"},[e._m(0),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"用户账号",prop:"userId"}},[s("el-input",{attrs:{placeholder:"考号或者报名号"},model:{value:e.ruleForm.userId,callback:function(r){e.$set(e.ruleForm,"userId",r)},expression:"ruleForm.userId"}})],1),s("el-form-item",{attrs:{label:"用户昵称",prop:"userName"}},[s("el-input",{model:{value:e.ruleForm.userName,callback:function(r){e.$set(e.ruleForm,"userName",r)},expression:"ruleForm.userName"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),s("el-form-item",{attrs:{label:"个人邮箱",prop:"userEmail"}},[s("el-input",{model:{value:e.ruleForm.userEmail,callback:function(r){e.$set(e.ruleForm,"userEmail",r)},expression:"ruleForm.userEmail"}})],1),s("el-form-item",{attrs:{label:"大陆手机号",prop:"telephone"}},[s("div",{staticClass:"telePhone"},[s("el-input",{model:{value:e.ruleForm.telephone,callback:function(r){e.$set(e.ruleForm,"telephone",r)},expression:"ruleForm.telephone"}}),s("el-button",{attrs:{disabled:e.isCode},on:{click:e.sendCode}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.isCode,expression:"isCode"}]},[s("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.retime+"s")+" ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isCode,expression:"!isCode"}]},[e._v("获取手机验证码")])])],1)]),s("el-form-item",{attrs:{label:"手机验证码",prop:"phoneCode"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.phoneCode,callback:function(r){e.$set(e.ruleForm,"phoneCode",r)},expression:"ruleForm.phoneCode"}})],1),s("div",{staticClass:"toResister"},[s("router-link",{attrs:{to:"/Login"}},[e._v("注册完成,去登录")])],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")]),s("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])])},o=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("h2",[s("p",[e._v("考生注册")]),s("p",{staticClass:"f14"},[e._v("REGISTER")])])}],l={data:function(){var e=this,r=function(e,r,s){var t=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;t.test(r)?s():s(new Error("邮箱格式错误"))},s=function(e,r,s){var t=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;t.test(r)?s():s(new Error("手机号格式错误"))},t=function(r,s,t){e.$api.check({account:s}).then((function(e){101===e.err_code?t(e.err_msg):t()}))};return{ruleForm:{userId:"",password:"",telephone:"",phoneCode:"",userName:"",userEmail:""},rules:{userName:[{required:!0,message:"请填写用户名",trigger:"blur"}],userId:[{required:!0,message:"请填写相应账号",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{min:6,max:16,message:"密码长度为6至16",trigger:"blur"}],userEmail:[{required:!0,message:"请填写个人邮箱",trigger:"blur"},{validator:r,trigger:"blur"}],telephone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:s,trigger:"blur"}],phoneCode:[{required:!0,message:"请输入手机验证码",trigger:"blur"}]},isCode:!1,retime:"30"}},methods:{sendCode:function(){var e=this;return e.ruleForm.telephone?e.ruleForm.userId?(this.$message("验证码已发送至".concat(this.ruleForm.telephone,",请注意查收")),e.isCode=!0,e.reTime(),void this.$api.code({account:e.ruleForm.userId,phone:e.ruleForm.telephone})):e.$message("请先输入用户账号"):e.$message("请输入手机号")},reTime:function(){var e=this,r=setInterval((function(){0===e.retime?(clearInterval(r),e.isCode=!1):e.retime--}),1e3)},submitForm:function(e){var r=this;this.$refs[e].validate((function(s){if(!s)return r.$message("未按要求填写,无法注册");r.$api.register({account:r.ruleForm.userId,code:r.ruleForm.phoneCode,nickName:r.ruleForm.userName,userEmail:r.ruleForm.userEmail,userId:r.ruleForm.userId,userPass:r.ruleForm.password,userPhone:r.ruleForm.telephone}).then((function(s){100===s.err_code?(r.$message("账号注册成功"),r.$refs[e].resetFields()):101===s.err_code?r.$message("验证码错误"):r.$message("账号注册失败")}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},i=l,a=(s("6d73"),s("2877")),u=Object(a["a"])(i,t,o,!1,null,"259e941a",null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-3cc2cbbc.22fee42a.js.map