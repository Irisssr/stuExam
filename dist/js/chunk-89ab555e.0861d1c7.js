(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89ab555e"],{"09d1":function(e,r,t){"use strict";t.r(r);var l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"common-box"}},[t("div",{staticClass:"register-box"},[t("h4",[e._v("考生信息注册")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[t("div",{staticClass:"form-left"},[t("el-form-item",{attrs:{label:"真实姓名",prop:"realName"}},[t("el-input",{model:{value:e.ruleForm.realName,callback:function(r){e.$set(e.ruleForm,"realName",r)},expression:"ruleForm.realName"}})],1),t("el-form-item",{attrs:{label:"考生类别"}},[t("el-radio",{attrs:{label:"成教"},model:{value:e.ruleForm.category,callback:function(r){e.$set(e.ruleForm,"category",r)},expression:"ruleForm.category"}},[e._v("成教")]),t("el-radio",{attrs:{label:"网教"},model:{value:e.ruleForm.category,callback:function(r){e.$set(e.ruleForm,"category",r)},expression:"ruleForm.category"}},[e._v("网教")]),t("el-radio",{attrs:{label:"自考"},model:{value:e.ruleForm.category,callback:function(r){e.$set(e.ruleForm,"category",r)},expression:"ruleForm.category"}},[e._v("自考")])],1),t("el-form-item",{attrs:{label:"证件类型"}},[t("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.ruleForm.cardType,callback:function(r){e.$set(e.ruleForm,"cardType",r)},expression:"ruleForm.cardType"}},e._l(e.peopleOptions,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"入学时间"}},[t("div",{staticClass:"school"},[t("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"入学时间"},model:{value:e.ruleForm.enterDate,callback:function(r){e.$set(e.ruleForm,"enterDate",r)},expression:"ruleForm.enterDate"}})],1)]),t("el-form-item",{attrs:{label:"教学点（选填）",prop:"studyAddr"}},[t("el-select",{attrs:{placeholder:"请选择教学点"},model:{value:e.ruleForm.studyAddr,callback:function(r){e.$set(e.ruleForm,"studyAddr",r)},expression:"ruleForm.studyAddr"}},e._l(e.studyAddrOptions,(function(e,r){return t("el-option",{key:r,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"照片"}},[e.isEdit?t("div",{staticClass:"photo-btn"},[t("img",{staticClass:"upload-img",attrs:{src:e._f("photoFilter")(e.ruleForm.photo)}})]):t("div",{staticClass:"photo-btn"},[t("form",{ref:"formphoto",attrs:{enctype:"multipart/form-data"}},[t("input",{attrs:{type:"file",accept:"image/*"},on:{change:e.setImage}})]),t("img",{staticClass:"upload-img",attrs:{src:e.photoURL}})])])],1),t("div",{staticClass:"form-right"},[t("el-form-item",{attrs:{label:"性别"}},[t("el-radio",{attrs:{label:"男"},model:{value:e.ruleForm.sex,callback:function(r){e.$set(e.ruleForm,"sex",r)},expression:"ruleForm.sex"}},[e._v("男")]),t("el-radio",{attrs:{label:"女"},model:{value:e.ruleForm.sex,callback:function(r){e.$set(e.ruleForm,"sex",r)},expression:"ruleForm.sex"}},[e._v("女")])],1),t("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[t("el-input",{model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1),t("el-form-item",{attrs:{label:"证件号码",prop:"cardNum"}},[t("el-input",{model:{value:e.ruleForm.cardNum,callback:function(r){e.$set(e.ruleForm,"cardNum",r)},expression:"ruleForm.cardNum"}})],1),t("el-form-item",{attrs:{label:"毕业时间"}},[t("div",{staticClass:"school"},[t("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"毕业时间"},model:{value:e.ruleForm.graduationDate,callback:function(r){e.$set(e.ruleForm,"graduationDate",r)},expression:"ruleForm.graduationDate"}})],1)]),t("el-form-item",{attrs:{label:"学历（选填）",prop:"degree"}},[t("el-select",{attrs:{placeholder:"请选择学历"},model:{value:e.ruleForm.degree,callback:function(r){e.$set(e.ruleForm,"degree",r)},expression:"ruleForm.degree"}},e._l(e.degreeOptions,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"工作单位（选填）",prop:"workPlace"}},[t("el-input",{model:{value:e.ruleForm.workPlace,callback:function(r){e.$set(e.ruleForm,"workPlace",r)},expression:"ruleForm.workPlace"}})],1),e.isEdit?t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(r){return e.editForm("ruleForm")}}},[e._v("编辑")])],1):t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("取消")])],1)],1)])],1)])},a=[],o=t("a6cd"),s={filters:{photoFilter:function(e){return o["a"].url+e}},data:function(){var e=function(e,r,t){var l=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;l.test(r)?t():t(new Error("手机号格式错误"))};return{isEdit:!0,ruleForm:{cardType:"",cardNum:"",phone:"",realName:"",degree:"",workPlace:"",studyAddr:"",photo:"",enterDate:"",graduationDate:"",sex:"",category:""},rules:{cardNum:[{required:!0,message:"请填写证件号码",trigger:"blur"}],phone:[{required:!0,message:"请填写联系电话",trigger:"blur"},{validator:e,trigger:"blur"}],realName:[{required:!0,message:"请填写真实姓名",trigger:"blur"}]},peopleOptions:[{label:"中华人民共和国居民身份证",value:"中华人民共和国居民身份证"},{label:"台湾居民往来大陆通行证",value:"台湾居民往来大陆通行证"},{label:"港澳居民往来大陆通行证",value:"港澳居民往来大陆通行证"},{label:"护照",value:"护照"},{label:"香港身份证",value:"香港身份证"},{label:"澳门身份证",value:"澳门身份证"},{label:"港澳居民居住证",value:"港澳居民居住证"},{label:"台湾居民居住证",value:"台湾居民居住证"}],degreeOptions:[{label:"本科",value:"本科"},{label:"研究生",value:"研究生"},{label:"硕士",value:"硕士"},{label:"博士",value:"博士"}],studyAddrOptions:[],photoURL:"",isCode:!1,retime:"30"}},methods:{setImage:function(e){var r=this,t=e.target.files[0],l=new FileReader,a=new FormData;l.readAsDataURL(t),l.onload=function(e){r.photoURL=e.target.result},a.append("file",t),r.$api.upImg(a).then((function(e){var t=e.data;if(100!==t.err_code)return r.$message.error("上传图片失败");r.ruleForm.photo=t.data.url,r.$message.success(t.err_msg)}))},editForm:function(){this.isEdit=!1},submitForm:function(e){var r=this;r.$refs[e].validate((function(e){return e?r.ruleForm.photo?r.ruleForm.enterDate?void r.$api.testinfo({cardNum:r.ruleForm.cardNum,cardType:r.ruleForm.cardType,degree:r.ruleForm.degree,enterDate:r.ruleForm.enterDate,graduationDate:r.ruleForm.graduationDate,phone:r.ruleForm.phone,photo:r.ruleForm.photo,sex:r.ruleForm.sex,realName:r.ruleForm.realName,studyAddr:r.ruleForm.studyAddr,workPlace:r.ruleForm.workPlace,category:r.ruleForm.category}).then((function(e){if(100!==e.err_code)return r.$message.error("信息提交失败");r.$message.success("信息提交成功"),r.isEdit=!1})):r.$message.error("请选择入学时间"):r.$message.error("请上传照片"):r.$message("未按要求填写,无法注册")}))},resetForm:function(){this.isEdit=!0},getAddr:function(){var e=this;this.$api.addr().then((function(r){e.studyAddrOptions=r.data.list}))},getStuInfo:function(){var e=this;e.$api.studentinfo().then((function(r){r.data.info&&(e.ruleForm=r.data.info,e.isEdit=!0)}))}},created:function(){this.getStuInfo(),this.getAddr()}},u=s,i=(t("e70d"),t("2877")),n=Object(i["a"])(u,l,a,!1,null,"74900512",null);r["default"]=n.exports},8826:function(e,r,t){},e70d:function(e,r,t){"use strict";var l=t("8826"),a=t.n(l);a.a}}]);
//# sourceMappingURL=chunk-89ab555e.0861d1c7.js.map